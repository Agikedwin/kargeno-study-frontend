{"ast":null,"code":"var _jsxFileName = \"/home/agik/agik/projects/Studies/kargeno-client/src/views/Overview/components/Todos/Todos.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/no-multi-comp */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, Card, CardContent, CardHeader, Divider, IconButton, List, ListItem, ListItemIcon, ListItemText, Radio, Tooltip, Typography, colors } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArchiveIcon from '@material-ui/icons/ArchiveOutlined';\nimport axios from 'utils/axios';\nimport { Label } from 'components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getLabel = todo => {\n  if (todo.done) {\n    return null;\n  }\n  if (moment(todo.deadline).isBefore(moment(), 'day')) {\n    return /*#__PURE__*/_jsxDEV(Label, {\n      color: colors.red[600],\n      children: `Due ${moment(todo.deadline).fromNow()}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n  if (moment(todo.deadline).isSame(moment(), 'day')) {\n    return /*#__PURE__*/_jsxDEV(Label, {\n      color: colors.orange[600],\n      children: \"Due today\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Label, {\n    children: `Due ${moment(todo.deadline).fromNow()}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 10\n  }, this);\n};\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  content: {\n    padding: 0\n  },\n  addIcon: {\n    marginRight: theme.spacing(1)\n  },\n  done: {\n    textDecoration: 'line-through',\n    color: theme.palette.text.secondary\n  }\n}));\nconst Todos = props => {\n  _s();\n  const {\n    className,\n    ...rest\n  } = props;\n  const classes = useStyles();\n  const [todos, setTodos] = useState([]);\n  useEffect(() => {\n    let mounted = true;\n    const fetchTodos = () => {\n      axios.get('/api/account/todos').then(response => {\n        if (mounted) {\n          setTodos(response.data.todos);\n        }\n      });\n    };\n    fetchTodos();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  const handleChange = (event, todo) => {\n    event.persist();\n    setTodos(todos => todos.map(t => {\n      if (t.id === todo.id) {\n        return {\n          ...todo,\n          done: !todo.done\n        };\n      }\n      return t;\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    ...rest,\n    className: clsx(classes.root, className),\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      action: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(AddIcon, {\n          className: classes.addIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), \"Add\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this),\n      title: \"My todos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      className: classes.content,\n      children: /*#__PURE__*/_jsxDEV(List, {\n        children: todos.map((todo, i) => /*#__PURE__*/_jsxDEV(ListItem, {\n          divider: i < todos.length - 1,\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(Radio, {\n              checked: todo.done,\n              onClick: event => handleChange(event, todo)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              className: clsx({\n                [classes.done]: todo.done\n              }),\n              variant: \"body1\",\n              children: todo.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), getLabel(todo), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Archive\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(ArchiveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)]\n        }, todo.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(Todos, \"MzK9u36UAe4SAtxoAR0+rpaInFE=\", false, function () {\n  return [useStyles];\n});\n_c = Todos;\nTodos.propTypes = {\n  className: PropTypes.string\n};\nexport default Todos;\nvar _c;\n$RefreshReg$(_c, \"Todos\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","clsx","moment","makeStyles","Button","Card","CardContent","CardHeader","Divider","IconButton","List","ListItem","ListItemIcon","ListItemText","Radio","Tooltip","Typography","colors","AddIcon","ArchiveIcon","axios","Label","getLabel","todo","done","deadline","isBefore","red","fromNow","isSame","orange","useStyles","theme","root","content","padding","addIcon","marginRight","spacing","textDecoration","color","palette","text","secondary","Todos","props","className","rest","classes","todos","setTodos","mounted","fetchTodos","get","then","response","data","handleChange","event","persist","map","t","id","i","length","title","propTypes","string"],"sources":["/home/agik/agik/projects/Studies/kargeno-client/src/views/Overview/components/Todos/Todos.js"],"sourcesContent":["/* eslint-disable react/no-multi-comp */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Radio,\n  Tooltip,\n  Typography,\n  colors\n} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArchiveIcon from '@material-ui/icons/ArchiveOutlined';\n\nimport axios from 'utils/axios';\nimport { Label } from 'components';\n\nconst getLabel = todo => {\n  if (todo.done) {\n    return null;\n  }\n\n  if (moment(todo.deadline).isBefore(moment(), 'day')) {\n    return (\n      <Label color={colors.red[600]}>{`Due ${moment(\n        todo.deadline\n      ).fromNow()}`}</Label>\n    );\n  }\n\n  if (moment(todo.deadline).isSame(moment(), 'day')) {\n    return <Label color={colors.orange[600]}>Due today</Label>;\n  }\n\n  return <Label>{`Due ${moment(todo.deadline).fromNow()}`}</Label>;\n};\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  content: {\n    padding: 0\n  },\n  addIcon: {\n    marginRight: theme.spacing(1)\n  },\n  done: {\n    textDecoration: 'line-through',\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst Todos = props => {\n  const { className, ...rest } = props;\n\n  const classes = useStyles();\n  const [todos, setTodos] = useState([]);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchTodos = () => {\n      axios.get('/api/account/todos').then(response => {\n        if (mounted) {\n          setTodos(response.data.todos);\n        }\n      });\n    };\n\n    fetchTodos();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  const handleChange = (event, todo) => {\n    event.persist();\n\n    setTodos(todos =>\n      todos.map(t => {\n        if (t.id === todo.id) {\n          return { ...todo, done: !todo.done };\n        }\n\n        return t;\n      })\n    );\n  };\n\n  return (\n    <Card\n      {...rest}\n      className={clsx(classes.root, className)}\n    >\n      <CardHeader\n        action={\n          <Button\n            color=\"primary\"\n            size=\"small\"\n          >\n            <AddIcon className={classes.addIcon} />\n            Add\n          </Button>\n        }\n        title=\"My todos\"\n      />\n      <Divider />\n      <CardContent className={classes.content}>\n        <List>\n          {todos.map((todo, i) => (\n            <ListItem\n              divider={i < todos.length - 1}\n              key={todo.id}\n            >\n              <ListItemIcon>\n                <Radio\n                  checked={todo.done}\n                  onClick={event => handleChange(event, todo)}\n                />\n              </ListItemIcon>\n              <ListItemText>\n                <Typography\n                  className={clsx({\n                    [classes.done]: todo.done\n                  })}\n                  variant=\"body1\"\n                >\n                  {todo.title}\n                </Typography>\n              </ListItemText>\n              {getLabel(todo)}\n              <Tooltip title=\"Archive\">\n                <IconButton>\n                  <ArchiveIcon />\n                </IconButton>\n              </Tooltip>\n            </ListItem>\n          ))}\n        </List>\n      </CardContent>\n    </Card>\n  );\n};\n\nTodos.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Todos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}